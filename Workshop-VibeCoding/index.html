<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfect Match Parking</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="game-frame">
    <div class="game-container">
      <!-- Header - Single line -->
      <div class="header-row">
        <div class="title-section">
          <h1>PERFECT MATCH PARKING</h1>
        </div>
        <div class="controls-row">
          <button class="icon-btn" onclick="restartLevel()" title="Restart">‚Üª</button>
          <button class="icon-btn" onclick="toggleMode()" title="Toggle theme">‚óë</button>
        </div>
      </div>

      <!-- Navigation Row, Stats Dashboard, and Passenger Display -->
      <div class="game-info-section">
        <!-- Unified Navigation Row -->
        <div class="navigation-row">
          <button class="nav-btn" id="navPrevBtn" onclick="previousLevel()">‚Üê PREV</button>
          <div class="nav-level-display" id="navLevelDisplay">LVL 1</div>
          <button class="nav-btn" id="navNextBtn" onclick="nextLevel()">NEXT ‚Üí</button>
        </div>

        <!-- Compact Stats Dashboard -->
        <div class="stats-dashboard">
          <div class="stat-item">
            <span class="stat-item-label">MATCH</span>
            <span class="stat-item-value" id="match">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-item-label">REMAINING</span>
            <span class="stat-item-value" id="remaining">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-item-label">MOVE</span>
            <span class="stat-item-value" id="moves">0</span>
          </div>
        </div>

        <!-- Passenger Section - Dual Slot Queue -->
        <div class="passenger-section">
          <!-- Current Passenger Slot (Main) -->
          <div class="passenger-slot primary-slot" id="currentPassengerSlot">
            <div class="passenger-slot-label">NEXT</div>
            <div class="passenger-slot-content">
              <div class="passenger-person-icon" id="passengerIcon"></div>
            </div>
          </div>

          <!-- Preview Slot (Upcoming) -->
          <div class="passenger-slot preview-slot">
            <div class="passenger-slot-label">PREVIEW</div>
            <div class="passenger-slot-content">
              <div class="next-passenger-icon" id="nextPassengerIcon"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Grid - Fixed size, scales internal blocks -->
      <div class="grid-container" id="grid"></div>

      <!-- Waiting Zone - Compact, closer to grid -->
      <div class="waiting-zone-container">
        <div class="waiting-zone-header">
          <span class="waiting-zone-label">WAITING LANE</span>
          <span class="waiting-zone-counter" id="waitingCounter">0/5</span>
        </div>
        <div class="waiting-zone" id="waitingZone"></div>
      </div>
    </div>
  </div>

  <!-- Boss Level Popup Alert -->
  <div id="bossLevelPopup" class="boss-level-popup hidden">
    <div class="boss-popup-icon">‚ö†Ô∏è</div>
    <div class="boss-popup-title">BOSS LEVEL</div>
    <div class="boss-popup-subtitle">FINAL CHALLENGE</div>
  </div>

  <!-- BOSS Alert Overlay -->
  <div class="boss-alert-overlay" id="bossAlertOverlay" style="display: none;">
    <div class="boss-alert-box">
      <div class="boss-alert-title">WARNING</div>
      <div class="boss-alert-subtitle">FINAL BOSS LEVEL!</div>
    </div>
  </div>

  <!-- Welcome Screen -->
  <div class="end-screen" id="welcomeScreen">
    <div class="welcome-container">
      <h1 class="welcome-title">
        <span class="gradient-purple">Perfect</span>
        <span class="gradient-blue">Match</span>
        <span class="gradient-orange"> Parking</span>
      </h1>
      <p class="welcome-subtitle">Match colored cars to passengers</p>
      <div class="welcome-instructions">
        <div class="instruction-item">
          <span class="instruction-icon">üöó</span>
          <span>Click cars to move them to the waiting lane</span>
        </div>
        <div class="instruction-item">
          <span class="instruction-icon">üë§</span>
          <span>Match the passenger's color to clear cars</span>
        </div>
        <div class="instruction-item">
          <span class="instruction-icon">üéØ</span>
          <span>Clear the parking lot to win!</span>
        </div>
      </div>
      <button class="welcome-start-btn" onclick="startGame()">START GAME</button>
    </div>
  </div>

  <!-- Game Over Screen -->
  <div class="end-screen hidden" id="gameOverScreen">
    <div class="welcome-container">
      <h1 class="welcome-title game-over-title">GAME OVER</h1>
      <p class="game-over-subtitle" id="gameOverScore"></p>
      <div class="game-over-stats">
        <div class="stat-highlight">
          <span class="stat-label">MATCH</span>
          <span class="stat-value" id="gameOverMatch">0</span>
        </div>
      </div>
      <button class="welcome-start-btn" onclick="restartLevel()">RETRY</button>
    </div>
  </div>

  <!-- Victory Screen -->
  <div class="end-screen hidden" id="victoryScreen">
    <div class="welcome-container">
      <h1 class="welcome-title">
        <span class="gradient-purple">CONGRATULATIONS!</span>
      </h1>
      <p class="victory-subtitle">YOU MASTERED THE PARKING!</p>
      <div class="victory-stats">
        <div class="victory-stat">
          <span class="victory-icon">üèÜ</span>
          <span class="victory-text">All Levels Cleared</span>
        </div>
      </div>
      <button class="welcome-start-btn" onclick="playAgain()">PLAY AGAIN</button>
    </div>
  </div>

  <!-- Level Complete Screen -->
  <div class="end-screen hidden" id="levelCompleteScreen">
    <div class="overlay-card">
      <h1 class="welcome-title level-complete-title">
        <span class="gradient-orange">LEVEL</span>
        <span id="levelCompleteNumber" class="gradient-purple">1</span>
        <span class="gradient-orange">CLEARED!</span>
      </h1>
      <p class="level-complete-stats" id="levelCompleteStats"></p>
      <div class="level-complete-buttons" id="levelCompleteButtons">
        <!-- Buttons will be dynamically added -->
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
