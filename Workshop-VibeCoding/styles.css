* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background: #0f1419;
background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 50%, #0f1419 100%);
min-height: 100vh;
margin: 0;
display: flex;
justify-content: center;
align-items: center;
color: #e2e8f0;
overflow: hidden;
padding: 20px;
}

.game-frame {
display: flex;
flex-direction: column;
width: 100%;
max-width: 500px;
background: rgba(20, 25, 35, 0.95);
backdrop-filter: blur(20px);
border-radius: 16px;
padding: 20px;
box-shadow:
0 0 0 1px rgba(100, 150, 255, 0.1),
0 20px 60px rgba(0, 0, 0, 0.5),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border: 1px solid rgba(100, 150, 255, 0.15);
position: relative;
overflow: hidden;
}

.game-frame::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
border-radius: 16px;
padding: 1px;
background: linear-gradient(135deg, rgba(100, 150, 255, 0.2), transparent 50%, rgba(100, 150, 255, 0.1));
-webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
-webkit-mask-composite: xor;
mask-composite: exclude;
pointer-events: none;
}

.game-container {
display: flex;
flex-direction: column;
align-items: center;
width: 100%;
position: relative;
z-index: 1;
}

/* BOSS Alert Overlay */
.boss-alert-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.85);
backdrop-filter: blur(10px);
display: flex;
align-items: center;
justify-content: center;
z-index: 2000;
animation: fadeIn 0.3s ease;
}

.boss-alert-overlay.fade-out {
animation: fadeOut 0.5s ease forwards;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

@keyframes fadeOut {
from { opacity: 1; }
to { opacity: 0; }
}

.boss-alert-box {
background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1));
border: 3px solid rgba(255, 215, 0, 0.6);
border-radius: 16px;
padding: 40px 60px;
text-align: center;
box-shadow:
0 0 40px rgba(255, 215, 0, 0.4),
0 0 80px rgba(255, 215, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
animation: alertPulse 1s ease-in-out infinite;
}

@keyframes alertPulse {
0%, 100% {
transform: scale(1);
box-shadow:
0 0 40px rgba(255, 215, 0, 0.4),
0 0 80px rgba(255, 215, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}
50% {
transform: scale(1.02);
box-shadow:
0 0 60px rgba(255, 215, 0, 0.6),
0 0 100px rgba(255, 215, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.15);
}
}

.boss-alert-title {
font-size: 2rem;
font-weight: 800;
color: #FFD700;
letter-spacing: 4px;
text-shadow:
0 0 20px rgba(255, 215, 0, 0.8),
0 0 40px rgba(255, 215, 0, 0.4);
margin: 0 0 10px 0;
}

.boss-alert-subtitle {
font-size: 1rem;
font-weight: 600;
color: #FFA500;
letter-spacing: 2px;
text-shadow: 0 0 10px rgba(255, 165, 0, 0.6);
}

/* Boss Level Popup Alert */
.boss-level-popup {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%) scale(0.5);
z-index: 10000;
display: flex;
flex-direction: column;
align-items: center;
gap: 10px;
padding: 30px 50px;
background: rgba(0, 0, 0, 0.92);
backdrop-filter: blur(15px);
border-radius: 20px;
border: 3px solid rgba(251, 191, 36, 0.7);
box-shadow:
0 0 40px rgba(251, 191, 36, 0.8),
0 0 80px rgba(251, 191, 36, 0.5),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
opacity: 0;
pointer-events: none;
}

.boss-level-popup.show {
animation: bossPopupShow 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes bossPopupShow {
0% {
transform: translate(-50%, -50%) scale(0.3);
opacity: 0;
}
50% {
transform: translate(-50%, -50%) scale(1.1);
opacity: 1;
}
70% {
transform: translate(-50%, -50%) scale(0.95);
opacity: 1;
}
100% {
transform: translate(-50%, -50%) scale(1);
opacity: 1;
}
}

.boss-level-popup.hidden {
display: none;
}

.boss-popup-icon {
font-size: 2.5rem;
animation: bossIconPulse 0.8s ease-in-out infinite;
}

.boss-popup-title {
font-size: 2rem;
font-weight: 900;
letter-spacing: 3px;
background: linear-gradient(135deg, #fbbf24, #f59e0b);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
text-shadow: none;
filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.7));
}

.boss-popup-subtitle {
font-size: 0.9rem;
font-weight: 700;
letter-spacing: 2px;
color: #fbbf24;
text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
}

@keyframes bossIconPulse {
0%, 100% {
transform: scale(1);
filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.8));
}
50% {
transform: scale(1.15);
filter: drop-shadow(0 0 40px rgba(251, 191, 36, 1));
}
}

/* Compact Stats Dashboard */
.stats-dashboard {
display: flex;
justify-content: center;
gap: 20px;
padding: 6px 0;
background: rgba(20, 30, 45, 0.4);
border-radius: 8px;
margin: 6px 0;
}

.stat-item {
display: flex;
align-items: center;
gap: 6px;
}

.stat-item-label {
font-size: 0.65rem;
font-weight: 600;
letter-spacing: 1px;
color: #94a3b8;
}

.stat-item-value {
font-size: 0.9rem;
font-weight: 700;
color: #e2e8f0;
min-width: 20px;
text-align: center;
}

/* Header - Single line */
.header-row {
display: flex;
justify-content: space-between;
align-items: center;
width: 100%;
gap: 12px;
flex-shrink: 0;
min-height: 40px;
}

.title-section h1 {
font-size: 1.15rem;
font-weight: 900;
letter-spacing: 2px;
margin: 0;
white-space: nowrap;
background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #fbbf24 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
filter: drop-shadow(0 0 12px rgba(96, 165, 250, 0.6))
drop-shadow(0 0 24px rgba(167, 139, 250, 0.4));
animation: titleGlow 3s ease-in-out infinite;
text-shadow: none;
}

@keyframes titleGlow {
0%, 100% {
filter: drop-shadow(0 0 12px rgba(96, 165, 250, 0.6))
drop-shadow(0 0 24px rgba(167, 139, 250, 0.4));
}
50% {
filter: drop-shadow(0 0 18px rgba(96, 165, 250, 0.9))
drop-shadow(0 0 36px rgba(167, 139, 250, 0.7))
drop-shadow(0 0 48px rgba(251, 191, 36, 0.3));
}
}

.controls-row {
display: flex;
gap: 8px;
align-items: center;
}

.icon-btn {
background: rgba(30, 40, 55, 0.8);
border: 1px solid rgba(100, 150, 255, 0.2);
border-radius: 10px;
color: #94a3b8;
padding: 6px 12px;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
font-size: 1rem;
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.icon-btn:hover:not(:disabled) {
background: rgba(40, 50, 70, 0.9);
border-color: rgba(100, 150, 255, 0.4);
color: #e2e8f0;
transform: translateY(-2px);
box-shadow:
0 4px 12px rgba(100, 150, 255, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.icon-btn:disabled {
opacity: 0.3;
cursor: not-allowed;
}

/* Level Header + Passenger + Stats - Compact */
.game-info-section {
display: flex;
flex-direction: column;
gap: 6px;
width: 100%;
flex-shrink: 0;
padding-top: 4px;
}

/* Level Header - Above passenger queue */
.level-header {
text-align: center;
font-size: 0.85rem;
font-weight: 700;
letter-spacing: 2px;
padding: 5px 16px;
background: rgba(30, 40, 55, 0.6);
border-radius: 8px;
border: 1px solid rgba(100, 150, 255, 0.15);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Unified Navigation Row */
.navigation-row {
display: flex;
align-items: center;
justify-content: center;
gap: 12px;
width: 100%;
padding: 6px 0;
}

.nav-btn {
background: rgba(30, 40, 55, 0.7);
border: 1px solid rgba(100, 150, 255, 0.25);
border-radius: 8px;
color: #94a3b8;
padding: 6px 14px;
font-size: 0.8rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.25),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
min-width: 70px;
text-align: center;
}

.nav-btn:hover:not(:disabled) {
background: rgba(40, 50, 70, 0.9);
border-color: rgba(100, 150, 255, 0.4);
color: #e2e8f0;
transform: translateY(-1px);
box-shadow:
0 4px 10px rgba(100, 150, 255, 0.15),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.nav-btn:disabled {
background: rgba(60, 70, 90, 0.4) !important;
border-color: rgba(100, 150, 255, 0.1) !important;
color: #64748b !important;
cursor: not-allowed !important;
opacity: 0.5 !important;
transform: none !important;
pointer-events: none !important;
box-shadow:
0 2px 4px rgba(0, 0, 0, 0.15),
inset 0 1px 0 rgba(255, 255, 255, 0.02) !important;
}

.nav-btn:disabled:hover {
background: rgba(60, 70, 90, 0.4) !important;
border-color: rgba(100, 150, 255, 0.1) !important;
transform: none !important;
}

.nav-level-display {
background: rgba(30, 40, 55, 0.7);
border: 1px solid rgba(100, 150, 255, 0.2);
border-radius: 8px;
padding: 6px 20px;
font-size: 0.85rem;
font-weight: 700;
letter-spacing: 2px;
color: #e2e8f0;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.25),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
min-width: 80px;
text-align: center;
}

/* Passenger Display - With color glow */
.passenger-display {
display: flex;
align-items: center;
justify-content: center;
gap: 16px;
background: rgba(30, 58, 95, 0.6);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
padding: 14px 20px;
border-radius: 12px;
border: 1px solid rgba(100, 150, 255, 0.2);
box-shadow:
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
transition: box-shadow 0.3s ease;
min-height: 64px;
}

/* Passenger Section - Dual Slot Queue */
.passenger-section {
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
width: 100%;
}

.passenger-slot {
display: flex;
flex-direction: column;
align-items: center;
gap: 6px;
padding: 10px 16px;
border-radius: 10px;
transition: all 0.3s ease;
}

/* Primary Slot (Current Passenger) */
.primary-slot {
background: rgba(30, 58, 95, 0.6);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
border: 1px solid rgba(100, 150, 255, 0.2);
box-shadow:
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
flex: 1;
}

/* Color glow for primary slot */
.primary-slot.passenger-color-red {
box-shadow:
0 0 20px rgba(234, 67, 53, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(234, 67, 53, 0.4);
}

.primary-slot.passenger-color-blue {
box-shadow:
0 0 20px rgba(66, 133, 244, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(66, 133, 244, 0.4);
}

.primary-slot.passenger-color-green {
box-shadow:
0 0 20px rgba(52, 168, 83, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(52, 168, 83, 0.4);
}

.primary-slot.passenger-color-yellow {
box-shadow:
0 0 20px rgba(251, 188, 5, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(251, 188, 5, 0.4);
}

.primary-slot.passenger-color-purple {
box-shadow:
0 0 20px rgba(103, 58, 183, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(103, 58, 183, 0.4);
}

/* Secondary Slot (Next Passenger Preview) */
.secondary-slot {
background: rgba(25, 35, 50, 0.4);
border: 1px solid rgba(100, 150, 255, 0.15);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
flex: 0.8;
opacity: 0.7;
}

/* Preview Slot (Upcoming Passenger) - Very Compact */
.preview-slot {
background: rgba(20, 30, 45, 0.3);
border: 2px dashed rgba(100, 150, 255, 0.2);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
flex: 0.45;
padding: 6px 10px;
opacity: 0.6;
}

.preview-slot:hover {
background: rgba(25, 35, 50, 0.4);
border-color: rgba(100, 150, 255, 0.25);
}

/* Slot Labels */
.passenger-slot-label {
font-size: 0.65rem;
font-weight: 700;
letter-spacing: 1.5px;
color: #94a3b8;
text-align: center;
}

.secondary-slot .passenger-slot-label {
font-size: 0.6rem;
color: #64748b;
}

.preview-slot .passenger-slot-label {
font-size: 0.6rem;
color: #64748b;
}

/* Slot Content */
.passenger-slot-content {
display: flex;
align-items: center;
justify-content: center;
min-height: 44px;
}

/* Color glow for passenger display */
.passenger-display.passenger-color-red {
box-shadow:
0 0 20px rgba(234, 67, 53, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(234, 67, 53, 0.4);
}

.passenger-display.passenger-color-blue {
box-shadow:
0 0 20px rgba(66, 133, 244, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(66, 133, 244, 0.4);
}

.passenger-display.passenger-color-green {
box-shadow:
0 0 20px rgba(52, 168, 83, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(52, 168, 83, 0.4);
}

.passenger-display.passenger-color-yellow {
box-shadow:
0 0 20px rgba(251, 188, 5, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(251, 188, 5, 0.4);
}

.passenger-display.passenger-color-purple {
box-shadow:
0 0 20px rgba(103, 58, 183, 0.5),
0 4px 16px rgba(0, 0, 0, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
border-color: rgba(103, 58, 183, 0.4);
}

.passenger-display span {
font-size: 0.8rem;
font-weight: 600;
letter-spacing: 0.5px;
color: #e5e7eb;
}

/* Passenger Person Icon with Colored Shirt */
.passenger-person-icon {
width: 40px;
height: 40px;
position: relative;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
}

/* Head - skin tone/white */
.passenger-person-icon::before {
content: '';
position: absolute;
top: 5px;
width: 16px;
height: 16px;
border-radius: 50%;
background: #ffdbac;
background: linear-gradient(145deg, #ffe4cc, #ffd499);
box-shadow:
0 2px 4px rgba(0, 0, 0, 0.3),
inset 0 -2px 4px rgba(0, 0, 0, 0.1);
z-index: 2;
}

/* Body/Shirt - colored dynamically */
.passenger-person-icon::after {
content: '';
position: absolute;
top: 20px;
width: 32px;
height: 18px;
border-radius: 14px 14px 6px 6px;
background: #4285f4;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.3),
inset 0 2px 4px rgba(255, 255, 255, 0.3),
inset 0 -2px 4px rgba(0, 0, 0, 0.2);
z-index: 1;
}

/* Shirt Colors - exact hex codes */
.passenger-person-icon.passenger-color-red::after {
background: #ea4335;
}

.passenger-person-icon.passenger-color-blue::after {
background: #4285f4;
}

.passenger-person-icon.passenger-color-green::after {
background: #34a853;
}

.passenger-person-icon.passenger-color-yellow::after {
background: #fbbc05;
}

.passenger-person-icon.passenger-color-purple::after {
background: #673ab7;
}

/* Next Passenger Preview */
.next-passenger-container {
display: flex;
flex-direction: column;
align-items: center;
gap: 4px;
opacity: 0.5;
filter: grayscale(30%);
}

.next-passenger-label {
font-size: 0.55rem;
font-weight: 600;
letter-spacing: 0.5px;
color: #64748b;
}

.next-passenger-icon {
width: 28px;
height: 28px;
position: relative;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
transform: scale(0.75);
}

/* Next passenger head */
.next-passenger-icon::before {
content: '';
position: absolute;
top: 3px;
width: 14px;
height: 14px;
border-radius: 50%;
background: #ffdbac;
background: linear-gradient(145deg, #ffe4cc, #ffd499);
box-shadow:
0 1px 3px rgba(0, 0, 0, 0.2),
inset 0 -1px 2px rgba(0, 0, 0, 0.1);
z-index: 2;
}

/* Next passenger body */
.next-passenger-icon::after {
content: '';
position: absolute;
top: 16px;
width: 22px;
height: 14px;
border-radius: 12px 12px 5px 5px;
background: #4285f4;
box-shadow:
0 1px 4px rgba(0, 0, 0, 0.2),
inset 0 1px 2px rgba(255, 255, 255, 0.3),
inset 0 -1px 2px rgba(0, 0, 0, 0.2);
z-index: 1;
}

/* Next passenger shirt colors */
.next-passenger-icon.passenger-color-red::after {
background: #ea4335;
}

.next-passenger-icon.passenger-color-blue::after {
background: #4285f4;
}

.next-passenger-icon.passenger-color-green::after {
background: #34a853;
}

.next-passenger-icon.passenger-color-yellow::after {
background: #fbbc05;
}

.next-passenger-icon.passenger-color-purple::after {
background: #673ab7;
}

/* Grid - Clean Modern Design */
.grid-container {
display: grid;
grid-template-columns: repeat(var(--grid-size), 1fr);
grid-template-rows: repeat(var(--grid-size), 1fr);
width: 100%;
max-width: 400px;
aspect-ratio: 1 / 1;
gap: 4px;
background: rgba(20, 25, 35, 0.6);
padding: 8px;
border-radius: 16px;
border: 1px solid rgba(100, 150, 255, 0.08);
box-shadow:
0 4px 20px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.03);
flex-shrink: 0;
}

.cell {
width: 100%;
aspect-ratio: 1 / 1;
border-radius: 10px;
background: rgba(30, 40, 55, 0.5);
border: 1px solid rgba(100, 150, 255, 0.1);
display: flex;
align-items: center;
justify-content: center;
cursor: default;
transition: all 0.2s ease;
box-shadow:
inset 0 1px 3px rgba(0, 0, 0, 0.3),
0 1px 2px rgba(0, 0, 0, 0.1);
}

.cell.has-car {
cursor: pointer;
border-color: rgba(100, 150, 255, 0.15);
background: rgba(35, 45, 65, 0.5);
}

.cell.has-car:not(.blocked):hover {
transform: scale(1.05);
border-color: rgba(100, 150, 255, 0.3);
box-shadow:
inset 0 1px 3px rgba(0, 0, 0, 0.3),
0 4px 12px rgba(100, 150, 255, 0.2);
}

.cell.has-car.blocked {
opacity: 0.35;
cursor: not-allowed;
}

/* Cars - Detailed Vehicle Design */
.car {
width: 100%;
height: 100%;
border-radius: 6px;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
cursor: pointer;
box-shadow:
0 3px 6px rgba(0, 0, 0, 0.2),
0 6px 12px rgba(0, 0, 0, 0.15);
}

.car:hover {
transform: translateY(-2px);
box-shadow:
0 6px 12px rgba(0, 0, 0, 0.25),
0 12px 24px rgba(0, 0, 0, 0.2);
}

/* Car Body - Main colored area */
.car::before {
content: '';
position: absolute;
top: 8px;
left: 6px;
right: 6px;
bottom: 8px;
border-radius: 4px;
background: inherit;
box-shadow:
inset 0 2px 4px rgba(255, 255, 255, 0.3),
inset 0 -2px 4px rgba(0, 0, 0, 0.2);
z-index: 1;
}

/* Windshield */
.car::after {
content: '';
position: absolute;
top: 10px;
left: 12px;
right: 12px;
height: 35%;
background: linear-gradient(180deg,
rgba(150, 200, 255, 0.4) 0%,
rgba(100, 150, 200, 0.3) 100%);
border-radius: 3px 3px 8px 8px;
box-shadow:
inset 0 1px 2px rgba(255, 255, 255, 0.5),
0 1px 3px rgba(0, 0, 0, 0.2);
z-index: 2;
}

/* Wheels */
.car .wheel {
position: absolute;
width: 18%;
height: 18%;
background: radial-gradient(circle at center,
#2a2a2a 0%,
#3a3a3a 40%,
#1a1a1a 100%);
border-radius: 50%;
box-shadow:
inset 0 1px 2px rgba(0, 0, 0, 0.5),
0 1px 3px rgba(0, 0, 0, 0.3);
z-index: 3;
}

.car .wheel::before {
content: '';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 50%;
height: 50%;
background: radial-gradient(circle at center,
#4a4a4a 0%,
#2a2a2a 100%);
border-radius: 50%;
}

.car .wheel.front-left {
top: 68%;
left: 8%;
}

.car .wheel.front-right {
top: 68%;
right: 8%;
}

.car .wheel.rear-left {
top: 68%;
left: 8%;
}

.car .wheel.rear-right {
top: 68%;
right: 8%;
}

/* Headlights */
.car .headlight {
position: absolute;
top: 50%;
width: 12%;
height: 8%;
background: radial-gradient(ellipse at center,
rgba(255, 255, 200, 1) 0%,
rgba(255, 255, 150, 0.6) 100%);
border-radius: 50%;
box-shadow:
0 0 6px rgba(255, 255, 200, 0.8),
inset 0 0 2px rgba(255, 255, 255, 0.8);
z-index: 2;
}

.car .headlight.left {
left: 2px;
}

.car .headlight.right {
right: 2px;
}

/* Enhanced Brand Colors for Cars */
.car.color-blue {
background: linear-gradient(180deg, #5a95f8, #4285f4, #3a75e8);
box-shadow:
0 3px 6px rgba(66, 133, 244, 0.25),
0 6px 12px rgba(66, 133, 244, 0.15);
}

.car.color-red {
background: linear-gradient(180deg, #f25649, #ea4335, #d3372a);
box-shadow:
0 3px 6px rgba(234, 67, 53, 0.25),
0 6px 12px rgba(234, 67, 53, 0.15);
}

.car.color-yellow {
background: linear-gradient(180deg, #ffc925, #fbbc05, #e6a800);
box-shadow:
0 3px 6px rgba(251, 188, 5, 0.25),
0 6px 12px rgba(251, 188, 5, 0.15);
}

.car.color-green {
background: linear-gradient(180deg, #45b66a, #34a853, #2d9147);
box-shadow:
0 3px 6px rgba(52, 168, 83, 0.25),
0 6px 12px rgba(52, 168, 83, 0.15);
}

.car.color-purple {
background: linear-gradient(180deg, #7e4cfc, #673ab7, #5a30a3);
box-shadow:
0 3px 6px rgba(103, 58, 183, 0.25),
0 6px 12px rgba(103, 58, 183, 0.15);
}

/* Waiting Zone - Clean Modern Design */
.waiting-zone-container {
width: 100%;
display: flex;
flex-direction: column;
align-items: center;
gap: 6px;
flex-shrink: 0;
padding-top: 6px;
}

.waiting-zone-header {
display: flex;
justify-content: space-between;
align-items: center;
width: 100%;
padding: 6px 14px;
background: rgba(25, 35, 50, 0.7);
border-radius: 10px;
border: 1px solid rgba(100, 150, 255, 0.1);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

.waiting-zone-label {
font-size: 0.65rem;
font-weight: 600;
letter-spacing: 1.5px;
color: #94a3b8;
}

.waiting-zone-counter {
font-size: 0.7rem;
font-weight: 700;
color: #e2e8f0;
background: rgba(35, 45, 65, 0.7);
padding: 4px 10px;
border-radius: 6px;
min-width: 40px;
text-align: center;
border: 1px solid rgba(100, 150, 255, 0.1);
}

.waiting-zone {
display: flex;
gap: 6px;
justify-content: center;
padding: 6px;
width: 100%;
background: rgba(20, 25, 35, 0.5);
border-radius: 12px;
border: 1px solid rgba(100, 150, 255, 0.08);
box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
align-items: center;
}

.slot {
width: 46px;
aspect-ratio: 1 / 1;
border-radius: 12px;
background: rgba(30, 40, 55, 0.5);
border: 1px solid rgba(100, 150, 255, 0.15);
display: flex;
align-items: center;
justify-content: center;
flex-shrink: 0;
box-shadow:
inset 0 1px 3px rgba(0, 0, 0, 0.3),
0 1px 2px rgba(0, 0, 0, 0.1);
transition: all 0.2s ease;
}

.slot.match-ready {
border-color: rgba(251, 191, 36, 0.5);
background: rgba(251, 191, 36, 0.08);
animation: slotPulse 2s ease-in-out infinite;
}

@keyframes slotPulse {
0%, 100% {
box-shadow:
inset 0 1px 3px rgba(0, 0, 0, 0.3),
0 0 0 0 rgba(251, 191, 36, 0);
}
50% {
box-shadow:
inset 0 1px 3px rgba(0, 0, 0, 0.3),
0 0 0 4px rgba(251, 191, 36, 0.1);
}
}

.slot.occupied {
border-style: solid;
background: rgba(35, 45, 65, 0.6);
border-color: rgba(100, 150, 255, 0.3);
}

/* Slot Cars - Same as Parking Lot Cars */
.slot-car {
width: 100%;
height: 100%;
border-radius: 6px;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
cursor: pointer;
box-shadow:
0 3px 6px rgba(0, 0, 0, 0.2),
0 6px 12px rgba(0, 0, 0, 0.15);
}

/* Car Body - Main colored area */
.slot-car::before {
content: '';
position: absolute;
top: 8px;
left: 6px;
right: 6px;
bottom: 8px;
border-radius: 4px;
background: inherit;
box-shadow:
inset 0 2px 4px rgba(255, 255, 255, 0.3),
inset 0 -2px 4px rgba(0, 0, 0, 0.2);
z-index: 1;
}

/* Windshield */
.slot-car::after {
content: '';
position: absolute;
top: 10px;
left: 12px;
right: 12px;
height: 35%;
background: linear-gradient(180deg,
rgba(150, 200, 255, 0.4) 0%,
rgba(100, 150, 200, 0.3) 100%);
border-radius: 3px 3px 8px 8px;
box-shadow:
inset 0 1px 2px rgba(255, 255, 255, 0.5),
0 1px 3px rgba(0, 0, 0, 0.2);
z-index: 2;
}

/* Slot Car Wheels - Same as parking lot */
.slot-car .wheel {
position: absolute;
width: 18%;
height: 18%;
background: radial-gradient(circle at center,
#2a2a2a 0%,
#3a3a3a 40%,
#1a1a1a 100%);
border-radius: 50%;
box-shadow:
inset 0 1px 2px rgba(0, 0, 0, 0.5),
0 1px 3px rgba(0, 0, 0, 0.3);
z-index: 3;
}

.slot-car .wheel::before {
content: '';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 50%;
height: 50%;
background: radial-gradient(circle at center,
#4a4a4a 0%,
#2a2a2a 100%);
border-radius: 50%;
}

.slot-car .wheel.front-left {
top: 68%;
left: 8%;
}

.slot-car .wheel.front-right {
top: 68%;
right: 8%;
}

.slot-car .wheel.rear-left {
top: 68%;
left: 8%;
}

.slot-car .wheel.rear-right {
top: 68%;
right: 8%;
}

/* Slot Car Headlights - Same as parking lot */
.slot-car .headlight {
position: absolute;
top: 50%;
width: 12%;
height: 8%;
background: radial-gradient(ellipse at center,
rgba(255, 255, 200, 1) 0%,
rgba(255, 255, 150, 0.6) 100%);
border-radius: 50%;
box-shadow:
0 0 6px rgba(255, 255, 200, 0.8),
inset 0 0 2px rgba(255, 255, 255, 0.8);
z-index: 2;
}

.slot-car .headlight.left {
left: 2px;
}

.slot-car .headlight.right {
right: 2px;
}

/* Enhanced Colors for Slot Cars */
.slot-car.color-blue {
background: linear-gradient(180deg, #5a95f8, #4285f4, #3a75e8);
box-shadow:
0 2px 4px rgba(66, 133, 244, 0.2),
0 4px 8px rgba(66, 133, 244, 0.12);
}

.slot-car.color-red {
background: linear-gradient(180deg, #f25649, #ea4335, #d3372a);
box-shadow:
0 2px 4px rgba(234, 67, 53, 0.2),
0 4px 8px rgba(234, 67, 53, 0.12);
}

.slot-car.color-yellow {
background: linear-gradient(180deg, #ffc925, #fbbc05, #e6a800);
box-shadow:
0 2px 4px rgba(251, 188, 5, 0.2),
0 4px 8px rgba(251, 188, 5, 0.12);
}

.slot-car.color-green {
background: linear-gradient(180deg, #45b66a, #34a853, #2d9147);
box-shadow:
0 2px 4px rgba(52, 168, 83, 0.2),
0 4px 8px rgba(52, 168, 83, 0.12);
}

.slot-car.color-purple {
background: linear-gradient(180deg, #7e4cfc, #673ab7, #5a30a3);
box-shadow:
0 2px 4px rgba(103, 58, 183, 0.2),
0 4px 8px rgba(103, 58, 183, 0.12);
}

/* Match Animations */
@keyframes matchSuccess {
0% { transform: scale(1); }
50% { transform: scale(1.15); box-shadow: 0 0 20px rgba(255, 255, 255, 0.6); }
100% { transform: scale(0); opacity: 0; }
}

@keyframes passengerDepart {
0% { transform: scale(1); opacity: 1; }
50% { transform: scale(1.1); box-shadow: 0 0 25px rgba(255, 255, 255, 0.7); }
100% { transform: scale(0); opacity: 0; }
}

.passenger-display.departing {
animation: passengerDepart 0.65s ease-out forwards;
}

.primary-slot.departing {
animation: passengerDepart 0.65s ease-out forwards;
}

/* Passenger Walking Animation - Next walks into Current */
@keyframes passengerWalkIn {
0% {
transform: translateX(40px) scale(0.5);
opacity: 0.6;
}
25% {
transform: translateX(30px) scale(0.6) translateY(-2px);
opacity: 0.7;
}
50% {
transform: translateX(20px) scale(0.7) translateY(0px);
opacity: 0.8;
}
75% {
transform: translateX(10px) scale(0.85) translateY(-2px);
opacity: 0.9;
}
100% {
transform: translateX(0) scale(1) translateY(0);
opacity: 1;
}
}

/* Walking animation with bobbing steps */
.passenger-slide-in {
animation: passengerWalkIn 0.5s ease-in-out forwards;
}

/* Gold Pulse Highlight */
@keyframes goldPulse {
0%, 100% {
border-color: #FFD700;
box-shadow: 0 0 10px rgba(255, 215, 0, 0.5), 0 0 20px rgba(255, 215, 0, 0.3);
}
50% {
border-color: #FFA500;
box-shadow: 0 0 15px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.5);
}
}

.slot-car.match-ready {
animation: goldPulse 0.6s ease-in-out infinite;
border: 3px solid #FFD700 !important;
box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), 0 0 30px rgba(255, 215, 0, 0.4) !important;
transform: scale(1.05);
border-radius: 8px;
}

.slot.matching .slot-car {
animation: matchSuccess 0.65s ease-out forwards;
}

/* End Screen */
.end-screen {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(15, 20, 25, 0.92);
backdrop-filter: blur(20px);
display: flex;
align-items: center;
justify-content: center;
z-index: 1000;
opacity: 0;
transition: opacity 0.4s ease-in-out;
}

.end-screen:not(.hidden) {
opacity: 1;
}

.end-screen.hidden {
display: none;
opacity: 0;
}

.overlay-card {
background: rgba(30, 40, 55, 0.7);
backdrop-filter: blur(15px);
-webkit-backdrop-filter: blur(15px);
color: #e2e8f0;
padding: 50px;
border-radius: 24px;
text-align: center;
max-width: 90%;
width: 450px;
animation: slideUpFade 0.5s cubic-bezier(0.4, 0, 0.2, 1);
border: 1px solid rgba(100, 150, 255, 0.3);
box-shadow:
0 25px 70px rgba(0, 0, 0, 0.5),
0 0 40px rgba(100, 150, 255, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

@keyframes slideUpFade {
from {
opacity: 0;
transform: translateY(40px) scale(0.95);
}
to {
opacity: 1;
transform: translateY(0) scale(1);
}
}

.overlay-card h2 {
font-size: 2rem;
font-weight: 600;
margin: 0 0 16px 0;
}

.overlay-card.level-complete h2 {
color: #60a5fa;
}

.overlay-card.level-10 h2 {
color: #FFD700;
text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
}

.overlay-card.lose h2 {
color: #f87171;
}

.overlay-card p {
font-size: 1.1rem;
margin: 0 0 24px 0;
color: #94a3b8;
}

.end-buttons {
display: flex;
gap: 12px;
flex-wrap: wrap;
justify-content: center;
}

.action-btn {
padding: 12px 24px;
font-size: 0.95rem;
font-weight: 600;
background: rgba(40, 50, 70, 0.8);
border: 1px solid rgba(100, 150, 255, 0.3);
border-radius: 10px;
color: #e2e8f0;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:
0 4px 12px rgba(0, 0, 0, 0.3),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.action-btn:hover {
background: rgba(50, 60, 85, 0.9);
border-color: rgba(100, 150, 255, 0.5);
transform: translateY(-2px);
box-shadow:
0 6px 20px rgba(100, 150, 255, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.action-btn.primary {
background: linear-gradient(135deg, #34a853, #2D9147);
border-color: rgba(52, 168, 83, 0.5);
}

.action-btn.primary:hover {
background: linear-gradient(135deg, #2D9147, #257a3a);
}

.action-btn:disabled {
background: rgba(60, 70, 90, 0.5) !important;
border-color: rgba(100, 150, 255, 0.1) !important;
color: #64748b !important;
cursor: not-allowed !important;
opacity: 0.5 !important;
transform: none !important;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.02) !important;
}

.action-btn:disabled:hover {
background: rgba(60, 70, 90, 0.5) !important;
border-color: rgba(100, 150, 255, 0.1) !important;
transform: none !important;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.02) !important;
}

/* Welcome Screen */
.welcome-container {
text-align: center;
color: #e2e8f0;
}

.welcome-title {
font-size: 3rem;
font-weight: 800;
margin: 0 0 16px 0;
letter-spacing: 2px;
}

.gradient-purple {
background: linear-gradient(135deg, #a78bfa, #fb7185);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.gradient-blue {
background: linear-gradient(135deg, #38bdf8, #6366f1);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.gradient-orange {
background: linear-gradient(135deg, #fbbf24, #2dd4bf);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.welcome-subtitle {
font-size: 1.3rem;
margin: 0 0 40px 0;
color: #94a3b8;
}

.welcome-instructions {
display: flex;
flex-direction: column;
gap: 16px;
margin: 0 0 40px 0;
text-align: left;
}

.instruction-item {
display: flex;
align-items: center;
gap: 12px;
font-size: 1rem;
padding: 14px 18px;
background: rgba(30, 40, 55, 0.6);
border-radius: 10px;
border: 1px solid rgba(100, 150, 255, 0.1);
color: #cbd5e1;
transition: all 0.3s ease;
}

.instruction-item:hover {
background: rgba(35, 45, 65, 0.7);
border-color: rgba(100, 150, 255, 0.2);
transform: translateX(4px);
}

.instruction-icon {
font-size: 1.5rem;
}

.welcome-start-btn {
background: linear-gradient(135deg, #3b82f6, #2563eb);
color: #ffffff;
border: none;
padding: 16px 56px;
font-size: 1.1rem;
font-weight: 700;
border-radius: 50px;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:
0 4px 20px rgba(59, 130, 246, 0.4),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.welcome-start-btn:hover {
background: linear-gradient(135deg, #2563eb, #1d4ed8);
transform: translateY(-2px);
box-shadow:
0 6px 30px rgba(59, 130, 246, 0.6),
inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Game Over Screen Styles */
.game-over-title {
background: linear-gradient(135deg, #f87171, #dc2626);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.game-over-subtitle {
font-size: 1.3rem;
margin: 0 0 30px 0;
color: #94a3b8;
}

.game-over-stats {
display: flex;
justify-content: center;
margin: 0 0 40px 0;
}

.stat-highlight {
display: flex;
flex-direction: column;
align-items: center;
gap: 8px;
padding: 20px 40px;
background: rgba(30, 40, 55, 0.6);
border-radius: 12px;
border: 1px solid rgba(239, 68, 68, 0.3);
}

.stat-highlight .stat-label {
font-size: 0.8rem;
font-weight: 600;
letter-spacing: 2px;
color: #f87171;
}

.stat-highlight .stat-value {
font-size: 2.5rem;
font-weight: 800;
color: #e2e8f0;
}

/* Victory Screen Styles */
.victory-subtitle {
font-size: 1.3rem;
margin: 0 0 30px 0;
color: #fbbf24;
}

.victory-stats {
display: flex;
justify-content: center;
margin: 0 0 40px 0;
}

.victory-stat {
display: flex;
align-items: center;
gap: 16px;
padding: 16px 32px;
background: rgba(30, 40, 55, 0.6);
border-radius: 12px;
border: 1px solid rgba(251, 191, 36, 0.3);
}

.victory-icon {
font-size: 2rem;
}

.victory-text {
font-size: 1.1rem;
font-weight: 600;
color: #fbbf24;
letter-spacing: 1px;
}

/* Level Complete Screen Styles */
.level-complete-title {
font-size: 2.8rem;
line-height: 1.2;
margin: 0 0 16px 0;
font-weight: 800;
animation: titleBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes titleBounce {
0% {
transform: scale(0.5);
opacity: 0;
}
50% {
transform: scale(1.1);
}
70% {
transform: scale(0.95);
}
100% {
transform: scale(1);
opacity: 1;
}
}

.level-complete-stats {
font-size: 1.1rem;
margin: 0 0 35px 0;
color: #94a3b8;
}

.level-complete-buttons {
display: flex;
flex-direction: column;
gap: 15px;
align-items: center;
width: 100%;
}

/* Primary Button - Next Level */
.level-complete-btn.primary {
background: linear-gradient(135deg, #3b82f6, #2563eb);
color: #ffffff;
border: none;
padding: 16px 56px;
font-size: 1.1rem;
font-weight: 800;
letter-spacing: 1px;
border-radius: 50px;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:
0 4px 20px rgba(59, 130, 246, 0.5),
inset 0 1px 0 rgba(255, 255, 255, 0.2);
min-width: 220px;
text-transform: uppercase;
}

.level-complete-btn.primary:hover {
background: linear-gradient(135deg, #2563eb, #1d4ed8);
transform: translateY(-3px) scale(1.02);
box-shadow:
0 8px 35px rgba(59, 130, 246, 0.7),
inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

/* Secondary Buttons Row */
.secondary-buttons-row {
display: flex;
gap: 12px;
justify-content: center;
width: 100%;
}

.level-complete-btn.secondary {
background: rgba(40, 50, 70, 0.6);
border: 2px solid rgba(100, 150, 255, 0.3);
color: #cbd5e1;
padding: 12px 28px;
font-size: 0.9rem;
font-weight: 600;
letter-spacing: 0.5px;
border-radius: 50px;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.05);
min-width: 120px;
text-transform: uppercase;
}

.level-complete-btn.secondary:hover {
background: rgba(50, 60, 85, 0.9);
border-color: rgba(100, 150, 255, 0.5);
transform: translateY(-2px);
box-shadow:
0 6px 20px rgba(100, 150, 255, 0.2),
inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Confetti */
.confetti {
position: fixed;
width: 10px;
height: 10px;
background-color: #f00;
animation: confetti-fall linear forwards;
z-index: 9999;
}

@keyframes confetti-fall {
0% {
transform: translateY(-100vh) rotate(0deg);
opacity: 1;
}
100% {
transform: translateY(100vh) rotate(720deg);
opacity: 0;
}
}

/* Light Theme */
body.light-theme {
background: #f5f7fa;
background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 50%, #f5f7fa 100%);
}

body.light-theme .game-frame {
background: rgba(255, 255, 255, 0.95);
border-color: rgba(0, 0, 0, 0.1);
}

body.light-theme .game-frame::before {
background: linear-gradient(135deg, rgba(0, 0, 0, 0.05), transparent 50%, rgba(0, 0, 0, 0.03));
}

body.light-theme .title-section h1 {
background: linear-gradient(135deg, #2563eb, #7c3aed);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

body.light-theme .icon-btn {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.15);
color: #475569;
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .icon-btn:hover:not(:disabled) {
background: rgba(248, 250, 252, 0.95);
border-color: rgba(0, 0, 0, 0.25);
color: #1e293b;
box-shadow:
0 4px 12px rgba(0, 0, 0, 0.15),
inset 0 1px 0 rgba(255, 255, 255, 1);
}

body.light-theme .level-header {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.15);
color: #475569;
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .nav-btn {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.2);
color: #475569;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .nav-btn:hover:not(:disabled) {
background: rgba(248, 250, 252, 0.95);
border-color: rgba(0, 0, 0, 0.3);
color: #1e293b;
}

body.light-theme .nav-btn:disabled {
background: rgba(203, 213, 225, 0.4) !important;
border-color: rgba(0, 0, 0, 0.1) !important;
color: #94a3b8 !important;
pointer-events: none !important;
box-shadow:
0 2px 4px rgba(0, 0, 0, 0.05),
inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

body.light-theme .nav-btn:disabled:hover {
background: rgba(203, 213, 225, 0.4) !important;
border-color: rgba(0, 0, 0, 0.1) !important;
}

body.light-theme .nav-level-display {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.15);
color: #1e293b;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .stats-dashboard {
background: rgba(255, 255, 255, 0.7);
border-color: rgba(0, 0, 0, 0.1);
}

body.light-theme .stat-item-label {
color: #64748b;
}

body.light-theme .stat-item-value {
color: #1e293b;
}

body.light-theme .passenger-display {
background: rgba(219, 234, 254, 0.5);
border-color: rgba(59, 130, 246, 0.3);
}

body.light-theme .passenger-display span {
color: #475569;
}

body.light-theme .passenger-slot {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.15);
}

body.light-theme .primary-slot {
background: rgba(219, 234, 254, 0.4);
border-color: rgba(59, 130, 246, 0.3);
}

body.light-theme .preview-slot {
background: rgba(248, 250, 252, 0.6);
border: 2px dashed rgba(0, 0, 0, 0.15);
}

body.light-theme .preview-slot:hover {
background: rgba(255, 255, 255, 0.8);
border-color: rgba(0, 0, 0, 0.2);
}

body.light-theme .passenger-slot-label {
color: #475569;
}

body.light-theme .preview-slot .passenger-slot-label {
color: #64748b;
}

body.light-theme .grid-container {
background: rgba(241, 245, 249, 0.8);
border-color: rgba(0, 0, 0, 0.1);
box-shadow:
0 4px 16px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8),
inset 0 -2px 4px rgba(0, 0, 0, 0.05);
}

body.light-theme .cell {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.1);
box-shadow:
inset 0 2px 4px rgba(0, 0, 0, 0.05),
inset 0 -1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .cell.has-car:not(.blocked):hover {
border-color: rgba(59, 130, 246, 0.4);
box-shadow:
inset 0 2px 4px rgba(0, 0, 0, 0.05),
0 0 12px rgba(59, 130, 246, 0.2);
}

body.light-theme .waiting-zone-header {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.15);
box-shadow:
0 2px 8px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .waiting-zone-label {
color: #64748b;
}

body.light-theme .waiting-zone-counter {
background: rgba(248, 250, 252, 0.9);
color: #1e293b;
border-color: rgba(0, 0, 0, 0.15);
}

body.light-theme .waiting-zone {
background: rgba(241, 245, 249, 0.6);
border-color: rgba(0, 0, 0, 0.1);
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

body.light-theme .slot {
background: rgba(255, 255, 255, 0.8);
border-color: rgba(0, 0, 0, 0.2);
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

body.light-theme .slot.occupied {
background: rgba(248, 250, 252, 0.9);
border-color: rgba(59, 130, 246, 0.3);
}

body.light-theme .overlay-card {
background: rgba(255, 255, 255, 0.95);
color: #1e293b;
border-color: rgba(0, 0, 0, 0.15);
}

body.light-theme .overlay-card p {
color: #64748b;
}

body.light-theme .action-btn {
background: rgba(255, 255, 255, 0.9);
border-color: rgba(0, 0, 0, 0.2);
color: #1e293b;
box-shadow:
0 4px 12px rgba(0, 0, 0, 0.1),
inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

body.light-theme .action-btn:hover {
background: rgba(248, 250, 252, 0.95);
border-color: rgba(0, 0, 0, 0.3);
}

body.light-theme .action-btn.primary {
background: linear-gradient(135deg, #34a853, #2D9147);
border-color: rgba(52, 168, 83, 0.5);
color: #ffffff;
}

body.light-theme .action-btn:disabled {
background: rgba(203, 213, 225, 0.5) !important;
border-color: rgba(0, 0, 0, 0.1) !important;
color: #94a3b8 !important;
cursor: not-allowed !important;
opacity: 0.5 !important;
transform: none !important;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.05),
inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

body.light-theme .action-btn:disabled:hover {
background: rgba(203, 213, 225, 0.5) !important;
border-color: rgba(0, 0, 0, 0.1) !important;
transform: none !important;
box-shadow:
0 2px 6px rgba(0, 0, 0, 0.05),
inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

/* Responsive */
@media (max-width: 500px) {
body {
padding: 0;
}

.game-frame {
max-width: 100%;
border-radius: 0;
padding: 12px;
}

h1 {
font-size: 1rem;
}

.slot {
width: 40px;
}
}
